<html><head></head><body><div hidden="" by-polymer-bundler=""><iron-iconset-svg name="paper-dropdown-menu" size="24"><svg><defs><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-dropdown-menu-shared-styles" assetpath="../../../bower_components/paper-dropdown-menu/"><template><style>:host{display:inline-block;position:relative;text-align:left;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;--paper-input-container-input:{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;box-sizing:border-box;cursor:pointer;};@apply --paper-dropdown-menu;}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([noink]) paper-ripple{display:none;}:host([no-label-float]) paper-ripple{top:8px;}paper-ripple{top:12px;left:0px;bottom:8px;right:0px;@apply --paper-dropdown-menu-ripple;}paper-menu-button{display:block;padding:0;@apply --paper-dropdown-menu-button;}paper-input{@apply --paper-dropdown-menu-input;}iron-icon{color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}</style></template></dom-module><dom-module id="paper-dropdown-menu" assetpath="../../../bower_components/paper-dropdown-menu/"><template><style include="paper-dropdown-menu-shared-styles"></style><span role="button"></span><paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate="" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]"><div class="dropdown-trigger" slot="dropdown-trigger"><paper-ripple></paper-ripple><paper-input type="text" invalid="[[invalid]]" readonly="" disabled="[[disabled]]" value="[[value]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]"><iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" slot="suffix"></iron-icon></paper-input></div><slot id="content" name="dropdown-content" slot="dropdown-content"></slot></paper-menu-button></template><script>(function(){"use strict";Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},verticalOffset:Number,dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function attached(){var contentElement=this.contentElement;if(contentElement&&contentElement.selectedItem){this._setSelectedItem(contentElement.selectedItem)}},get contentElement(){for(var nodes=Polymer.dom(this.$.content).getDistributedNodes(),i=0,l=nodes.length;i<l;i++){if(nodes[i].nodeType===Node.ELEMENT_NODE){return nodes[i]}}},open:function open(){this.$.menuButton.open()},close:function close(){this.$.menuButton.close()},_onIronSelect:function _onIronSelect(event){this._setSelectedItem(event.detail.item)},_onIronDeselect:function _onIronDeselect(){this._setSelectedItem(null)},_onTap:function _onTap(event){if(Polymer.Gestures.findOriginalTarget(event)===this){this.open()}},_selectedItemChanged:function _selectedItemChanged(selectedItem){var value="";if(!selectedItem){value=""}else{value=selectedItem.label||selectedItem.getAttribute("label")||selectedItem.textContent.trim()}this.value=value;this._setSelectedItemLabel(value)},_computeMenuVerticalOffset:function _computeMenuVerticalOffset(noLabelFloat,opt_verticalOffset){if(opt_verticalOffset){return opt_verticalOffset}return noLabelFloat?-4:8},_getValidity:function _getValidity(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function _openedChanged(){var openState=this.opened?"true":"false",e=this.contentElement;if(e){e.setAttribute("aria-expanded",openState)}}})})();</script></dom-module><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function created(){this._hasIronCheckedElementBehavior=!0},_getValidity:function _getValidity(){return this.disabled||!this.required||this.checked},_requiredChanged:function _requiredChanged(){if(this.required){this.setAttribute("aria-required","true")}else{this.removeAttribute("aria-required")}},_checkedChanged:function _checkedChanged(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function _valueChanged(){if(this.value===void 0||null===this.value){this.value="on"}}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];</script><script>Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function _checkedChanged(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);if(this.hasRipple()){if(this.checked){this._ripple.setAttribute("checked","")}else{this._ripple.removeAttribute("checked")}}},_buttonStateChanged:function _buttonStateChanged(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);if(this.disabled){return}if(this.isAttached){this.checked=this.active}}};Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];</script><dom-module id="paper-checkbox" assetpath="../../../bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}#ink:dir(rtl){right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}#checkmark:dir(rtl){-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}#checkboxLabel:dir(rtl){padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function attached(){Polymer.RenderStatus.afterNextRender(this,function(){var inkSize=this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim();if("-1px"===inkSize){var checkboxSizeText=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),units="px",unitsMatches=checkboxSizeText.match(/[A-Za-z]+$/);if(null!==unitsMatches){units=unitsMatches[0]}var checkboxSize=parseFloat(checkboxSizeText),defaultInkSize=8/3*checkboxSize;if("px"===units){defaultInkSize=Math.floor(defaultInkSize);if(defaultInkSize%2!==checkboxSize%2){defaultInkSize++}}this.updateStyles({"--paper-checkbox-ink-size":defaultInkSize+units})}})},_computeCheckboxClass:function _computeCheckboxClass(checked,invalid){var className="";if(checked){className+="checked "}if(invalid){className+="invalid"}return className},_computeCheckmarkClass:function _computeCheckmarkClass(checked){return checked?"":"hidden"},_createRipple:function _createRipple(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});</script></dom-module><dom-module id="paper-dropdown-menu-multi" assetpath="../../../bower_components/paper-dropdown-menu-multi/"><template><style>paper-checkbox{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:5px;}#dummy{display:none;}</style><paper-dropdown-menu label="[[label]]" id="dropdownMenu" required="[[required]]" on-paper-dropdown-close="_closingWindow" on-paper-dropdown-open="_openingWindow" value="{{value}}"><div class="dropdown-content" slot="dropdown-content"><template is="dom-repeat" items="[[selections]]"><div><paper-checkbox on-change="_updateValue">[[item]]</paper-checkbox></div></template><iron-selector id="selected"><div id="dummy"></div></iron-selector></div></paper-dropdown-menu></template><script>var PaperDropDownMenuMulti=function(_Polymer$Element){babelHelpers.inherits(PaperDropDownMenuMulti,_Polymer$Element);function PaperDropDownMenuMulti(){babelHelpers.classCallCheck(this,PaperDropDownMenuMulti);return babelHelpers.possibleConstructorReturn(this,(PaperDropDownMenuMulti.__proto__||Object.getPrototypeOf(PaperDropDownMenuMulti)).apply(this,arguments))}babelHelpers.createClass(PaperDropDownMenuMulti,[{key:"_selectionChanged",value:function _selectionChanged(){this._value=[];this.$.selected.selected=null;this.$.dummy.textContent="";if(0<this.shadowRoot.querySelectorAll("paper-checkbox").length){this.shadowRoot.querySelectorAll("paper-checkbox").forEach(function(item){item.checked=!1})}}},{key:"_openingWindow",value:function _openingWindow(){this.$.selected.selected=null}},{key:"_closingWindow",value:function _closingWindow(){this.$.dummy.textContent=this._value.length<=this.maxDisplay?this._value.join(","):"".concat(this._value.length," selected");this.$.selected.selected="0";this.value=this._value;this.dispatchEvent(new CustomEvent("value-changed",{detail:this.value}))}},{key:"_updateValue",value:function _updateValue(){var that=this;this._value=[];this.shadowRoot.querySelectorAll("paper-checkbox").forEach(function(item){if(item.checked){that._value.push(item.textContent)}})}}],[{key:"is",get:function get(){return"paper-dropdown-menu-multi"}},{key:"properties",get:function get(){return{label:{type:String},required:{type:Boolean},selections:{type:Array,observer:"_selectionChanged"},value:{type:Array},_value:{type:Array,value:[]},maxDisplay:{type:Number,value:5}}}}]);return PaperDropDownMenuMulti}(Polymer.Element);customElements.define(PaperDropDownMenuMulti.is,PaperDropDownMenuMulti);</script></dom-module></div><dom-module id="players-list"><template><style include="shared-styles">:host{display:block;margin:8px;}#toolbar{@apply (--layout-horizontal);@apply (--layout-justified);}</style><iron-ajax id="ajaxCreateCustomer" on-response="_customerCreated" on-error="_customerNotCreated"></iron-ajax><iron-ajax id="ajaxChangeplayerstatus" on-response="_statusEdited"></iron-ajax><div id="toolbar"><div></div><vaadin-button on-tap="_createCustomer">New user</vaadin-button></div><vaadin-grid style="width: 100%; height: 400px;" name="ordersbook" aria-label="Orders book" items="[[players]]"><vaadin-grid-column resizable=""><template class="header"><vaadin-grid-filter aria-label="Username" path="username" value="[[_filterusername]]"><input placeholder="username" value="{{_filterusername::input}}" focus-target=""></vaadin-grid-filter></template><template>{{item.username}}</template></vaadin-grid-column><vaadin-grid-column resizable=""><template class="header"><vaadin-grid-filter aria-label="Permission" path="permission" value="[[_filterpermission]]"><input placeholder="permission" value="{{_filterpermission::input}}" focus-target=""></vaadin-grid-filter></template><template>{{item.permission}}</template></vaadin-grid-column><vaadin-grid-column resizable=""><template class="header"><vaadin-grid-filter aria-label="Level" path="level" value="[[_filterlevel]]"><input placeholder="level" value="{{_filterlevel::input}}" focus-target=""></vaadin-grid-filter></template><template>{{item.stats.level}}</template></vaadin-grid-column><vaadin-grid-column resizable="" flex-grow="0"><template class="header"><span></span></template><template><a href="/players/view/{{item.id}}"><vaadin-button>View</vaadin-button></a></template></vaadin-grid-column></vaadin-grid><paper-dialog id="createCustomer"><h2>New player</h2><iron-form id="formCreateCustomer"><form><vaadin-text-field required="" value="" label="Username" name="username"></vaadin-text-field><vaadin-password-field required="" value="" label="Password" name="password"></vaadin-password-field></form></iron-form><div class="buttons" style="padding: 0px !important;"><vaadin-button dialog-dismiss="" autofocus="">Cancel</vaadin-button><vaadin-button dialog-confirm="" autofocus="" on-tap="_createCustomer">Ok</vaadin-button></div></paper-dialog></template><script>var playersList=function(_Polymer$Element){babelHelpers.inherits(playersList,_Polymer$Element);function playersList(){babelHelpers.classCallCheck(this,playersList);return babelHelpers.possibleConstructorReturn(this,(playersList.__proto__||Object.getPrototypeOf(playersList)).apply(this,arguments))}babelHelpers.createClass(playersList,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(playersList.prototype.__proto__||Object.getPrototypeOf(playersList.prototype),"connectedCallback",this).call(this);this._canChangeSupervisor=99<=this.authSession.permission?!0:!1}},{key:"_createCustomer",value:function _createCustomer(){var paperDialog=Polymer.dom(this.root).querySelector("paper-dialog#createCustomer"),form=Polymer.dom(this.root).querySelector("#formCreateCustomer").serializeForm(),ironAjax=Polymer.dom(this.root).querySelector("#ajaxCreateCustomer");if(!paperDialog.opened){paperDialog.toggle();return}if(0>=(form.username.length||form.password.length))return this.dispatchEvent(new CustomEvent("show-modal",{bubbles:!0,composed:!0,detail:{title:"Error occured",message:"Please fill all the form correctly"}}));Polymer.dom(this.root).querySelector("#formCreateCustomer").children[0].reset();ironAjax.method="POST";ironAjax.headers={"X-Access-Token":this.authSession.token,"X-Socket-ID":window.socket.id};ironAjax.url=window.projectUrl+"/api/auth/signup/";ironAjax.body=form;ironAjax.contentType="application/json";ironAjax.generateRequest()}},{key:"_customerCreated",value:function _customerCreated(){this.dispatchEvent(new CustomEvent("reload-players",{bubbles:!0,composed:!0}));return this.dispatchEvent(new CustomEvent("show-modal",{bubbles:!0,composed:!0,detail:{title:"New player created",message:"The new player has been successfully created."}}))}},{key:"_customerNotCreated",value:function _customerNotCreated(){var message=event.detail.request.response.message;if("email used"===event.detail.request.response.message)message="The username is already being used.";return this.dispatchEvent(new CustomEvent("show-modal",{bubbles:!0,composed:!0,detail:{title:"Error occured",message:message}}))}}],[{key:"is",get:function get(){return"players-list"}}]);return playersList}(Polymer.Element);window.customElements.define(playersList.is,playersList);</script></dom-module></body></html>